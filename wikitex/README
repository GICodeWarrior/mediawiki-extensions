








                  WikiTeX 1.4beta5 README

      Peter Danenberg <danenberg at mitdasein dot com>



                          ABSTRACT

          Covers  installation  and  expansion  of  the
     WikiTeX system.



2 February 2005




















































                  WikiTeX 1.4beta5 README

      Peter Danenberg <danenberg at mitdasein dot com>

                     Table of Contents


1. Introduction  . . . . . . . . . . . . . . . . . . . .   1
2. Acquisition . . . . . . . . . . . . . . . . . . . . .   1
3. Installation  . . . . . . . . . . . . . . . . . . . .   1
     3.1. Stand-alone distribution . . . . . . . . . . .   2
     3.2. Pre-packaged distribution  . . . . . . . . . .   2
     3.2.1. Java SVG (Batik) . . . . . . . . . . . . . .   3
4. Expansion . . . . . . . . . . . . . . . . . . . . . .   3
5. Copyright . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

          WikiTeX extends MediaWiki by allowing  authors  to
     manipulate  graphical  objects  directly in their arti-
     cles; support so  far  includes:  math,  music,  chess,
     chemistry,  go,  plots and relational diagrams.  To see
     WikiTeX in action, please visit:

          http://wikisophia.org

2.  Acquisition

          Unadorned WikiTeX is available via  anonymous  CVS
     from SourceForge:

     cvs -d:pserver:anonymous@cvs.sf.net:/cvsroot/wikipedia \
     co wikitex

     Alternatively, WikiTeX comes  prepackaged  with  Media-
     Wiki; see:

          http://wikitex.org

3.  Installation

          Depending  on  your distribution, installation may
     consist of three or more steps; and assumes some famil-
     iarity with Apache.

          Each  method below presupposes a succesful instal-
     lation of MediaWiki.







                       2 February 2005





                             -2-


     3.1.  Stand-alone distribution

               In addition to the steps  detailed  for  pre-
          packaged distributions, perform these twain:

          1.   Create   the  directory  /extensions/wikitex;
               copy there the distribution files; create the
               directory /extensions/wikitex/tmp.

          2.   Add  the following line to /LocalSettings.php
               lastly before the terminal '?>':

               include './extensions/wikitex/wikitex.php';

               You  may  now  continue with normal installa-
          tion.

     3.2.  Pre-packaged distribution

          1.   Render /extensions/wikitex/tmp  scribable  to
               the web server, but beware to disable script-
               ing.

          2.   Verify that ImageMagick (imagemagick.org)  is
               present,   and   acquire  Jan-Aoke  Larsson's
               dvipng:

          http://sourceforge.net/projects/dvipng/

          3.   Install as many of the following packages  as
               you  would  like  to support, or add your own
               (see Expanding WikiTeX):

     Class   Package         Author               URL
     --------------------------------------------------------
     batik SVG Java    Apache               apache.org
     chem  PPCH-TeX    Hans Hagen           pragma-ade.com
     chess LaTeX Chess Piet Tutelaers       tug.org
     feyn  Feynman     Michael Levine       ctan.org
     go    Go          Daniel Bump          stanford.edu
     graph Graphviz    Emden Gansner        research.att.com
     greek Ibycus      Pierre MacKay        tug.org
     ling  AVM         Christopher Manning  stanford.edu
           Parsetree   Eirik Hektoen        essex.ac.uk
     math  AMS-LaTeX   Amer. Math. Soc.     ams.org
     music Lilypond    Han-Wen Nienhuys     lilypond.org
     plot  Gnuplot     Nikos Drakos         gnuplot.info
     svg   SVG lite    ImageMagick          imagemagick.org
     teng  Tengwar     Ivan Derzhanski      quettar.org
     tipa  TIPA        Rei Fukui            ctan.org
     xym   XyMTeX      Shinsaku Fujita      kit.ac.jp






                       2 February 2005





                             -3-


          4.   Lastly, ensure that your server's $PATH vari-
               able includes /usr/bin and /usr/local/bin, or
               wherever your binaries are installed.

          3.2.1.  Installing Batik

                    Installing  Batik  (the  Java-based  SVG
               toolkit) requires several unique steps:

               1.   Install Java (java.sun.com).

               2.   Install Batik (xml.apache.org/batik); if
                    elsewhere than /usr/local/batik, config-
                    ure wikitex.inc.sh.

               3.   If  you  have XWindows, the Xserver Vir-
                    tual Frame Buffer  should  be  included;
                    configure  Xvfb  to  start up at runtime
                    by:

                    a.   Copying the provided xvfb script to
                         /etc/init.d

                    b.   Linking xvfb at the prompt:

                    ln -s /etc/init.d/xvfb /etc/rc2.d/S98xvfb

               4.   Add the following to apachectl or equiv-
                    alent:

                         DISPLAY=localhost:1.0
                         export DISPLAY

     4.  Expanding WikiTeX

               Adding  novel  packages  to  WikiTeX  can  be
          achieved in several discrete steps; after you have
          downloaded and installed the package:

               1.   Devise a class name for the package, and
                    add a template to /extensions/wikitex in
                    this form:

                         wikitex.<classname>.inc.<ext>

                    The  template should expose said package
                    to the renderer; see  the  current  tem-
                    plates for examples.

               2.   Unless  the  class requires non-standard
                    processing  (confer  Lilypond's   midi),
                    skip  to  step  three;  else,  add a new
                    function in wikitex.sh under <class>.




                       2 February 2005





                             -4-


                    Consult wikitex.sh for examples.

               3.   Lastly, if the package contains undesir-
                    able  or  insecure  directives, add them
                    to:

                         objRend::strPost()::arrBlack[<class>]

                    in   wikitex.php;   the  which  see  for
                    details.















































                       2 February 2005





                             -5-



























































                       2 February 2005


