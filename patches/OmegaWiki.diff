Index: maintenance/updaters.inc
===================================================================
--- maintenance/updaters.inc	(revision 53499)
+++ maintenance/updaters.inc	(working copy)
@@ -884,7 +884,7 @@
  * @bug 3946
  */
 function do_page_random_update() {
-	global $wgDatabase;
+	/*global $wgDatabase;
 
 	wfOut( "Setting page_random to a random value on rows where it equals 0..." );
 
@@ -892,7 +892,7 @@
 	$wgDatabase->query( "UPDATE $page SET page_random = RAND() WHERE page_random = 0", 'do_page_random_update' );
 	$rows = $wgDatabase->affectedRows();
 
-	wfOut( "changed $rows rows\n" );
+	wfOut( "changed $rows rows\n" );*/
 }
 
 function do_templatelinks_update() {
@@ -1211,7 +1211,7 @@
 }
 
 function do_category_population() {
-	if( update_row_exists( 'populate category' ) ) {
+	/*if( update_row_exists( 'populate category' ) ) {
 		wfOut( "...category table already populated.\n" );
 		return;
 	}
@@ -1221,7 +1221,7 @@
 "may want to hit Ctrl-C and do this manually with maintenance/\n".
 "populateCategory.php.\n";
 	populateCategory( '', 10, 0, true );
-	wfOut( "Done populating category table.\n" );
+	wfOut( "Done populating category table.\n" );*/
 }
 
 function do_populate_parent_id() {
Index: includes/SearchEngine.php
===================================================================
--- includes/SearchEngine.php	(revision 53499)
+++ includes/SearchEngine.php	(working copy)
@@ -63,7 +63,7 @@
 	 * @return Title
 	 */
 	public static function getNearMatch( $searchterm ) {
-		global $wgContLang;
+		global $wgContLang, $wgDefaultGoPrefix;
 
 		$allSearchTerms = array($searchterm);
 
@@ -88,6 +88,16 @@
 				return $title;
 			}
 
+			# Attempt search with default go prefix.
+			if( !empty($wgDefaultGoPrefix) && $title->getNamespace() == NS_MAIN ) {
+				$term = $wgDefaultGoPrefix . $term;
+				$title = Title::newFromText( $term );
+				if( $title->exists() ) {
+					return $title;
+				}
+			}
+
+
 			# Now try all lower case (i.e. first letter capitalized)
 			#
 			$title = Title::newFromText( $wgContLang->lc( $term ) );
Index: includes/Namespace.php
===================================================================
--- includes/Namespace.php	(revision 53499)
+++ includes/Namespace.php	(working copy)
@@ -52,7 +52,9 @@
 	 * @return bool
 	 */
 	public static function isMovable( $index ) {
-		global $wgAllowImageMoving;
+		global $wgAllowImageMoving, $wdHandlerClasses;
+		# FIXME: This means that namespaces with custom handlers are assumed to never be movable.
+		if( array_key_exists( $index, $wdHandlerClasses ) ) return false; 
 		return !( $index < NS_MAIN || ($index == NS_FILE && !$wgAllowImageMoving)  || $index == NS_CATEGORY );
 	}

Index: includes/DefaultSettings.php
===================================================================
--- includes/DefaultSettings.php	(revision 53499)
+++ includes/DefaultSettings.php	(working copy)
@@ -3945,6 +3945,12 @@
  */
 $wgPasswordAttemptThrottle = array( 'count' => 5, 'seconds' => 300 );
 
+/*
+ * Prefix to be added before "Go" searches, e.g. point to a different
+ * namespace.
+ */
+$wgDefaultGoPrefix = '';
+
 /**
  * Display user edit counts in various prominent places.
  */
