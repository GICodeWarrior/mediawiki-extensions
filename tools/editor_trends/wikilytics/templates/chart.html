{% extends "base.html" %}


{% block js %}

	<script src="/static/js/jquery-1.4.4.min.js" type="text/javascript"></script>
	<script type="text/javascript" src="/static/js/jquery.flot.js"></script>
 	<script type="text/javascript" src="/static/js/jquery.flot.stack.js"></script>
	
	<script type="text/javascript">
		$(document).ready(function() {
			
			
				$.ajax({
  					url: '{{ url }}',
  					dataType: 'json',
  					data: 'json',
  					contentType: 'application/json; charset=utf-8',
  					success: function(json){ 
  						var data = json['data'];
  						var options = json['options'];
  						var css_id = "#wikilytics";
  						console.log(options);
  						$.plot($(css_id), data, options);
  					}
				});
		 
		$(function () {

			var css_id = "#placeholder2";
			var data = [
			        {label: 'foo', data: [[1,300], [2,300], [3,300], [4,300], [5,300]]},
			        {label: 'bar', data: [[1,800], [2,600], [3,400], [4,200], [5,0]]},
			        {label: 'baz', data: [[1,100], [2,200], [3,300], [4,400], [5,500]]},
			    ];

			 var options = {
			        series: {stack: 0,
			                 lines: {show: false, steps: false },
			                 bars: {show: true, barWidth: 0.9, align: 'center',},},
			        xaxis: {ticks: [[1,'One'], [2,'Two'], [3,'Three'], [4,'Four'], [5,'Five']]},
			    };
			 console.log(options);
			 $.plot($(css_id), data, options);
			 
			});

 		});
 	</script>
{% endblock %}

{% block content %}
<div id="wikilytics" style="width:1000px;height:400px;"></div>

{% endblock %}