--- pcre_compile.c.old	Sun Jul  6 14:43:28 2008
+++ pcre_compile.c	Sun Jul  6 14:44:18 2008
@@ -4931,7 +4931,7 @@
                (lengthptr == NULL || *lengthptr == 2 + 2*LINK_SIZE))
             {
             cd->external_options = newoptions;
-            options = newoptions;
+            options = *optionsptr = newoptions;
             }
          else
             {
