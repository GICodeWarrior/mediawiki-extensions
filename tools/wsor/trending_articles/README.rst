These scripts are used to produce the results published on the `sprint
page on meta`_ on the editor behavior in trending articles.

Usage
---------
We use following directory names.

``pageview.all``
        raw (hourly) page view count files
``pageview.200907.en``
        hourly page view count files for EN wiki in July 2009 only
``pageview.200907.daily.en``
        daily page view count files for EN wiki in July 2009 only


1. Obtain the page view count files from `Domas's WikiStats` or from the ``stats`` directory `Toolserver's user-store`.
2. (optional) Select only the page names you are interested to reduce the processing time. For example, use this command ::
   
     for f in pageview.all/2009/07/pagecounts-200907*.gz ; do ggrep '^en [^ ]* ' $f | gzip > pageview.200907.en/`basename $f`; done
   
3. (optional) Convert hourly page views in to daily page views with ::
   
     ./accumulatedaily.py pageview.200907.en/pagecounts-200907*.gz -p 3 -f 'pageview.200907.daily.en/pagecounts-%Y%m%d-%H%M%S.gz'
   
4. Detect bursts in page views with ::
   
    python -O detectbursts.py pageview.200907.daily.en/pagecounts-200907* -w 3 --rate=3 --min=1000 --max=10 --cutoff=20 -o bursts_200907_daily.tsv


Notes
--------
Edit counts generated by these scripts may contain errors due to a MediaWiki's `bug 19311`_.

.. _Domas's WikiStats: http://dammit.lt/wikistats/archive
.. _Toolserver's user-store: https://wiki.toolserver.org/view/User-store
.. _sprint page on meta: http://meta.wikimedia.org/wiki/Research:Trending_articles_and_new_editors
.. _bug 19311: https://bugzilla.wikimedia.org/show_bug.cgi?id=19311
