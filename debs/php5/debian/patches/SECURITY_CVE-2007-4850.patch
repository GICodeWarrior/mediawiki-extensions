Index: php5-5.2.4/ext/curl/interface.c
===================================================================
--- php5-5.2.4.orig/ext/curl/interface.c	2008-06-05 22:27:48.000000000 +0200
+++ php5-5.2.4/ext/curl/interface.c	2008-06-05 22:33:14.000000000 +0200
@@ -173,7 +173,7 @@
 			php_curl_ret(__ret);											\
 		} 													\
 															\
-		if (!php_memnstr(str, tmp_url->path, strlen(tmp_url->path), str + len)) {				\
+		if (tmp_url->host || !php_memnstr(str, tmp_url->path, strlen(tmp_url->path), str + len)) {				\
 			php_error_docref(NULL TSRMLS_CC, E_WARNING, "URL '%s' contains unencoded control characters.", str);	\
 			php_url_free(tmp_url); 																\
 			php_curl_ret(__ret);											\
