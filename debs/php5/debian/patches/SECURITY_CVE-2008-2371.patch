diff -Nur php5-5.2.4/ext/pcre/pcrelib/pcre_compile.c php5-5.2.4.new/ext/pcre/pcrelib/pcre_compile.c
--- php5-5.2.4/ext/pcre/pcrelib/pcre_compile.c	2008-07-23 00:23:55.000000000 -0400
+++ php5-5.2.4.new/ext/pcre/pcrelib/pcre_compile.c	2008-07-23 00:26:08.000000000 -0400
@@ -4490,7 +4490,7 @@
                (lengthptr == NULL || *lengthptr == 2 + 2*LINK_SIZE))
             {
             cd->external_options = newoptions;
-            options = newoptions;
+            options = *optionsptr = newoptions;
             }
          else
             {
